<div class="page">
  <h1>Create New List</h1>

  <form [formGroup]="form" (ngSubmit)="submit()" class="form">
    <label class="fld">
      <span>Name</span>
      <input type="text" formControlName="name" placeholder="My List" />
      @if (form.controls.name.invalid && form.controls.name.touched) {
        <small class="err">Name is required</small>
      }
    </label>

    <label class="fld">
      <span>Description</span>
      <textarea rows="3" formControlName="description" placeholder="Optional"></textarea>
    </label>

    <label class="fld">
      <span>Public List?</span>
      <select formControlName="isPublic">
        @for (opt of [{label: 'Yes', val: true}, {label: 'No', val: false}]; track opt.val) {
          <option [value]="opt.val">{{ opt.label }}</option>
        }
      </select>
    </label>

    <div class="actions">
      <button type="button" class="btn ghost" (click)="cancel()">Cancel</button>
      <button type="submit" class="btn" [disabled]="form.invalid || saving">
        {{ saving ? 'Savingâ€¦' : 'Create' }}
      </button>
    </div>

    @if (error) {
      <p class="err">{{ error }}</p>
    }
  </form>
</div>
